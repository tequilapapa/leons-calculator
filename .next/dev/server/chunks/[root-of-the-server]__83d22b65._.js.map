{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 46, "column": 0}, "map": {"version":3,"sources":["file:///home/user/leons-calculator/lib/supabase/server.ts"],"sourcesContent":["import { createServerClient } from \"@supabase/ssr\"\nimport { cookies } from \"next/headers\"\n\nexport async function createClient() {\n  const cookieStore = await cookies()\n\n  return createServerClient(process.env.NEXT_PUBLIC_SUPABASE_URL!, process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!, {\n    cookies: {\n      getAll() {\n        return cookieStore.getAll()\n      },\n      setAll(cookiesToSet) {\n        try {\n          cookiesToSet.forEach(({ name, value, options }) => cookieStore.set(name, value, options))\n        } catch {\n          // Ignored for Server Components\n        }\n      },\n    },\n  })\n}\n"],"names":[],"mappings":";;;;AAAA;AAAA;AACA;;;AAEO,eAAe;IACpB,MAAM,cAAc,MAAM,IAAA,4IAAO;IAEjC,OAAO,IAAA,iMAAkB,oKAAoF;QAC3G,SAAS;YACP;gBACE,OAAO,YAAY,MAAM;YAC3B;YACA,QAAO,YAAY;gBACjB,IAAI;oBACF,aAAa,OAAO,CAAC,CAAC,EAAE,IAAI,EAAE,KAAK,EAAE,OAAO,EAAE,GAAK,YAAY,GAAG,CAAC,MAAM,OAAO;gBAClF,EAAE,OAAM;gBACN,gCAAgC;gBAClC;YACF;QACF;IACF;AACF"}},
    {"offset": {"line": 76, "column": 0}, "map": {"version":3,"sources":["file:///home/user/leons-calculator/app/api/upload-wood-profile/route.ts"],"sourcesContent":["import { NextResponse } from \"next/server\"\nimport { createClient } from \"@/lib/supabase/server\"\n\ntype WoodProfileInsert = {\n  name: string\n  description?: string | null\n  image_url: string\n  texture_url?: string | null\n  price_per_sqft: number\n  color?: string | null\n  wood_type: string\n  finish?: string | null\n}\n\nexport async function POST(req: Request) {\n  try {\n    const supabase = createClient()\n\n    const { records } = (await req.json()) as {\n      records: WoodProfileInsert[]\n    }\n\n    if (!records || !Array.isArray(records) || records.length === 0) {\n      return NextResponse.json(\n        { error: \"No records provided\" },\n        { status: 400 },\n      )\n    }\n\n    const cleaned = records.map((r) => ({\n      name: r.name,\n      description: r.description ?? null,\n      image_url: r.image_url,\n      texture_url: r.texture_url ?? r.image_url,\n      price_per_sqft: Number(r.price_per_sqft) || 0,\n      color: r.color ?? null,\n      wood_type: r.wood_type,\n      finish: r.finish ?? null,\n    }))\n\n    const { data, error } = await supabase\n      .from(\"wood_profiles\")\n      .insert(cleaned)\n      .select(\"id\")\n\n    if (error) {\n      console.error(\"[upload-wood-profile] Supabase insert error:\", error)\n      return NextResponse.json(\n        { error: error.message },\n        { status: 500 },\n      )\n    }\n\n    return NextResponse.json(\n      { inserted: data?.length ?? 0 },\n      { status: 200 },\n    )\n  } catch (err: any) {\n    console.error(\"[upload-wood-profile] Unexpected error:\", err)\n    return NextResponse.json(\n      { error: \"Unexpected error while uploading wood profiles\" },\n      { status: 500 },\n    )\n  }\n}"],"names":[],"mappings":";;;;AAAA;AACA;;;AAaO,eAAe,KAAK,GAAY;IACrC,IAAI;QACF,MAAM,WAAW,IAAA,2IAAY;QAE7B,MAAM,EAAE,OAAO,EAAE,GAAI,MAAM,IAAI,IAAI;QAInC,IAAI,CAAC,WAAW,CAAC,MAAM,OAAO,CAAC,YAAY,QAAQ,MAAM,KAAK,GAAG;YAC/D,OAAO,gJAAY,CAAC,IAAI,CACtB;gBAAE,OAAO;YAAsB,GAC/B;gBAAE,QAAQ;YAAI;QAElB;QAEA,MAAM,UAAU,QAAQ,GAAG,CAAC,CAAC,IAAM,CAAC;gBAClC,MAAM,EAAE,IAAI;gBACZ,aAAa,EAAE,WAAW,IAAI;gBAC9B,WAAW,EAAE,SAAS;gBACtB,aAAa,EAAE,WAAW,IAAI,EAAE,SAAS;gBACzC,gBAAgB,OAAO,EAAE,cAAc,KAAK;gBAC5C,OAAO,EAAE,KAAK,IAAI;gBAClB,WAAW,EAAE,SAAS;gBACtB,QAAQ,EAAE,MAAM,IAAI;YACtB,CAAC;QAED,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,SAC3B,IAAI,CAAC,iBACL,MAAM,CAAC,SACP,MAAM,CAAC;QAEV,IAAI,OAAO;YACT,QAAQ,KAAK,CAAC,gDAAgD;YAC9D,OAAO,gJAAY,CAAC,IAAI,CACtB;gBAAE,OAAO,MAAM,OAAO;YAAC,GACvB;gBAAE,QAAQ;YAAI;QAElB;QAEA,OAAO,gJAAY,CAAC,IAAI,CACtB;YAAE,UAAU,MAAM,UAAU;QAAE,GAC9B;YAAE,QAAQ;QAAI;IAElB,EAAE,OAAO,KAAU;QACjB,QAAQ,KAAK,CAAC,2CAA2C;QACzD,OAAO,gJAAY,CAAC,IAAI,CACtB;YAAE,OAAO;QAAiD,GAC1D;YAAE,QAAQ;QAAI;IAElB;AACF"}}]
}