(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,75780,(e,t,r)=>{t.exports=function(e){return null!=e&&null!=e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}},11561,(e,t,r)=>{function o(e,t){"boolean"==typeof t&&(t={forever:t}),this._originalTimeouts=JSON.parse(JSON.stringify(e)),this._timeouts=e,this._options=t||{},this._maxRetryTime=t&&t.maxRetryTime||1/0,this._fn=null,this._errors=[],this._attempts=1,this._operationTimeout=null,this._operationTimeoutCb=null,this._timeout=null,this._operationStart=null,this._timer=null,this._options.forever&&(this._cachedTimeouts=this._timeouts.slice(0))}t.exports=o,o.prototype.reset=function(){this._attempts=1,this._timeouts=this._originalTimeouts.slice(0)},o.prototype.stop=function(){this._timeout&&clearTimeout(this._timeout),this._timer&&clearTimeout(this._timer),this._timeouts=[],this._cachedTimeouts=null},o.prototype.retry=function(e){if(this._timeout&&clearTimeout(this._timeout),!e)return!1;var t=new Date().getTime();if(e&&t-this._operationStart>=this._maxRetryTime)return this._errors.push(e),this._errors.unshift(Error("RetryOperation timeout occurred")),!1;this._errors.push(e);var r=this._timeouts.shift();if(void 0===r)if(!this._cachedTimeouts)return!1;else this._errors.splice(0,this._errors.length-1),r=this._cachedTimeouts.slice(-1);var o=this;return this._timer=setTimeout(function(){o._attempts++,o._operationTimeoutCb&&(o._timeout=setTimeout(function(){o._operationTimeoutCb(o._attempts)},o._operationTimeout),o._options.unref&&o._timeout.unref()),o._fn(o._attempts)},r),this._options.unref&&this._timer.unref(),!0},o.prototype.attempt=function(e,t){this._fn=e,t&&(t.timeout&&(this._operationTimeout=t.timeout),t.cb&&(this._operationTimeoutCb=t.cb));var r=this;this._operationTimeoutCb&&(this._timeout=setTimeout(function(){r._operationTimeoutCb()},r._operationTimeout)),this._operationStart=new Date().getTime(),this._fn(this._attempts)},o.prototype.try=function(e){console.log("Using RetryOperation.try() is deprecated"),this.attempt(e)},o.prototype.start=function(e){console.log("Using RetryOperation.start() is deprecated"),this.attempt(e)},o.prototype.start=o.prototype.try,o.prototype.errors=function(){return this._errors},o.prototype.attempts=function(){return this._attempts},o.prototype.mainError=function(){if(0===this._errors.length)return null;for(var e={},t=null,r=0,o=0;o<this._errors.length;o++){var n=this._errors[o],a=n.message,i=(e[a]||0)+1;e[a]=i,i>=r&&(t=n,r=i)}return t}},30855,(e,t,r)=>{var o=e.r(11561);r.operation=function(e){return new o(r.timeouts(e),{forever:e&&(e.forever||e.retries===1/0),unref:e&&e.unref,maxRetryTime:e&&e.maxRetryTime})},r.timeouts=function(e){if(e instanceof Array)return[].concat(e);var t={retries:10,factor:2,minTimeout:1e3,maxTimeout:1/0,randomize:!1};for(var r in e)t[r]=e[r];if(t.minTimeout>t.maxTimeout)throw Error("minTimeout is greater than maxTimeout");for(var o=[],n=0;n<t.retries;n++)o.push(this.createTimeout(n,t));return e&&e.forever&&!o.length&&o.push(this.createTimeout(n,t)),o.sort(function(e,t){return e-t}),o},r.createTimeout=function(e,t){var r=Math.round((t.randomize?Math.random()+1:1)*Math.max(t.minTimeout,1)*Math.pow(t.factor,e));return Math.min(r,t.maxTimeout)},r.wrap=function(e,t,o){if(t instanceof Array&&(o=t,t=null),!o)for(var n in o=[],e)"function"==typeof e[n]&&o.push(n);for(var a=0;a<o.length;a++){var i=o[a],s=e[i];e[i]=(function(o){var n=r.operation(t),a=Array.prototype.slice.call(arguments,1),i=a.pop();a.push(function(e){n.retry(e)||(e&&(arguments[0]=n.mainError()),i.apply(this,arguments))}),n.attempt(function(){o.apply(e,a)})}).bind(e,s),e[i].options=t}}},25894,(e,t,r)=>{t.exports=e.r(30855)},31716,(e,t,r)=>{var o=e.r(25894);t.exports=function(e,t){return new Promise(function(r,n){var a,i=t||{};function s(e){n(e||Error("Aborted"))}function l(e,t){e.bail?s(e):a.retry(e)?i.onRetry&&i.onRetry(e,t):n(a.mainError())}"randomize"in i||(i.randomize=!0),(a=o.operation(i)).attempt(function(t){var o;try{o=e(s,t)}catch(e){l(e,t);return}Promise.resolve(o).then(r).catch(function(e){l(e,t)})})})}},61866,(e,t,r)=>{t.exports=function(e,t){let r;if("function"!=typeof e)throw TypeError(`Expected the first argument to be a \`function\`, got \`${typeof e}\`.`);let o=0;return function(...n){clearTimeout(r);let a=Date.now(),i=t-(a-o);i<=0?(o=a,e.apply(this,n)):r=setTimeout(()=>{o=Date.now(),e.apply(this,n)},i)}}},92177,e=>{"use strict";var t,r,o,n=e.i(43476),a=e.i(71645),i=e.i(99875),s=e.i(47167);let l={toWeb(){throw Error("Vercel Blob: Sorry, we cannot get a Readable stream in this environment. If you see this message please open an issue here: https://github.com/vercel/storage/ with details on your environment.")}};var u=e.i(75780),c=e.i(31716);let d=globalThis.fetch.bind(globalThis);var p=e.i(61866),f=new Promise(e=>{try{let t=new Uint8Array([104,101,108,108,111]);new Blob([t]).text().then(t=>{e("hello"===t)}).catch(()=>{e(!1)})}catch{e(!1)}});async function m(e){var t,r;let o;return e instanceof ReadableStream?e:e instanceof Blob?e.stream():h(e)?l.toWeb(e):(o=e instanceof ArrayBuffer?new Uint8Array(e):(t=e,(0,u.default)(t))?e:(r=e,new TextEncoder().encode(r)),await f)?new Blob([o]).stream():new ReadableStream({start(e){e.enqueue(o),e.close()}})}function h(e){return"object"==typeof e&&"function"==typeof e.pipe&&e.readable&&"function"==typeof e._read&&"object"==typeof e._readableState}var b=/^((-|\+)?(\d+(?:\.\d+)?)) *(kb|mb|gb|tb|pb)$/i,x={b:1,kb:1024,mb:1048576,gb:0x40000000,tb:0x10000000000,pb:0x4000000000000};function g(e){let t;if("number"==typeof e&&!isNaN(e))return e;if("string"!=typeof e)return null;let r=b.exec(e),o="b";if(r){let[,e,,,n]=r;if(!e)return null;t=parseFloat(e),n&&(o=n.toLowerCase())}else t=parseInt(e,10);return isNaN(t)?null:Math.floor(x[o]*t)}var y=class extends Error{constructor(e){super(`Vercel Blob: ${e}`)}};function w(e){if("object"!=typeof e||null===e)return!1;let t=Object.getPrototypeOf(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}var _=["//"],v=(()=>{if(function(){if("undefined"!=typeof navigator&&"ReactNative"===navigator.product)return!0;if(void 0!==s.default){let e=s.default.type;return"renderer"!==e&&"worker"!==e&&!!(s.default.versions&&s.default.versions.node)}return!1}())return!0;if(T().startsWith("http://localhost"))return!1;let e=!1,t=new Request(T(),{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t})();function T(e=""){let t=null;try{t=s.default.env.VERCEL_BLOB_API_URL||s.default.env.NEXT_PUBLIC_VERCEL_BLOB_API_URL}catch{}return`${t||"https://vercel.com/api/blob"}${e}`}var E="function"==typeof TextEncoder?new TextEncoder:null;function N(e){return e?"string"==typeof e?E?E.encode(e).byteLength:new Blob([e]).size:"byteLength"in e&&"number"==typeof e.byteLength?e.byteLength:"size"in e&&"number"==typeof e.size?e.size:0:0}function R(e){return globalThis.ReadableStream&&e instanceof ReadableStream}var j=Object.prototype.toString,O=new Set(["network error","Failed to fetch","NetworkError when attempting to fetch resource.","The Internet connection appears to be offline.","Load failed","Network request failed","fetch failed","terminated"]),k=!1;try{((null==(t=s.default.env.DEBUG)?void 0:t.includes("blob"))||(null==(r=s.default.env.NEXT_PUBLIC_DEBUG)?void 0:r.includes("blob")))&&(k=!0)}catch(e){}function L(e,...t){k&&console.debug(`vercel-blob: ${e}`,...t)}var S="function"==typeof d,P=S&&v,A=async({input:e,init:t,onUploadProgress:r})=>{var o,n;let a;if(L("using fetch"),t.body)if(r){let e,n=await m(t.body),i=0,s=(o=e=>{r(i+=e)},e=new Uint8Array(0),new TransformStream({transform(t,r){queueMicrotask(()=>{let n=new Uint8Array(e.length+t.byteLength);for(n.set(e),n.set(new Uint8Array(t),e.length),e=n;e.length>=65536;){let t=e.slice(0,65536);r.enqueue(t),null==o||o(t.byteLength),e=e.slice(65536)}})},flush(t){queueMicrotask(()=>{e.length>0&&(t.enqueue(e),null==o||o(e.byteLength))})}}));a=n.pipeThrough(s)}else a=t.body;let i=v&&a&&(R(n=a)||h(n))?"half":void 0;return d(e,{...t,...t.body?{body:a}:{},duplex:i})},C="undefined"!=typeof XMLHttpRequest,U=async({input:e,init:t,onUploadProgress:r})=>{L("using xhr");let o=null;return t.body&&(o=R(t.body)?await new Response(t.body).blob():t.body),new Promise((n,a)=>{let i=new XMLHttpRequest;(i.open(t.method||"GET",e.toString(),!0),r&&i.upload.addEventListener("progress",e=>{e.lengthComputable&&r(e.loaded)}),i.onload=()=>{var e;if(null==(e=t.signal)?void 0:e.aborted)return void a(new DOMException("The user aborted the request.","AbortError"));let r=new Headers;i.getAllResponseHeaders().trim().split(/[\r\n]+/).forEach(e=>{let t=e.split(": "),o=t.shift(),n=t.join(": ");o&&r.set(o.toLowerCase(),n)}),n(new Response(i.response,{status:i.status,statusText:i.statusText,headers:r}))},i.onerror=()=>{a(TypeError("Network request failed"))},i.ontimeout=()=>{a(TypeError("Network request timed out"))},i.onabort=()=>{a(new DOMException("The user aborted a request.","AbortError"))},t.headers&&new Headers(t.headers).forEach((e,t)=>{i.setRequestHeader(t,e)}),t.signal&&(t.signal.addEventListener("abort",()=>{i.abort()}),t.signal.aborted))?i.abort():i.send(o)})},B=async({input:e,init:t,onUploadProgress:r})=>{if(r){if(P)return A({input:e,init:t,onUploadProgress:r});if(C)return U({input:e,init:t,onUploadProgress:r})}if(S)return A({input:e,init:t});if(C)return U({input:e,init:t});throw Error("No request implementation available")},I=null!=(o=globalThis.DOMException)?o:(()=>{try{atob("~")}catch(e){return Object.getPrototypeOf(e).constructor}})(),q=class extends y{constructor(){super("Access denied, please provide a valid token for this resource.")}},$=class extends y{constructor(e){super(`Content type mismatch, ${e}.`)}},M=class extends y{constructor(e){super(`Pathname mismatch, ${e}. Check the pathname used in upload() or put() matches the one from the client token.`)}},V=class extends y{constructor(){super("Client token has expired.")}},D=class extends y{constructor(e){super(`File is too large, ${e}.`)}},H=class extends y{constructor(){super("This store does not exist.")}},X=class extends y{constructor(){super("This store has been suspended.")}},z=class extends y{constructor(){super("Unknown error, please visit https://vercel.com/help.")}},F=class extends y{constructor(){super("The requested blob does not exist")}},W=class extends y{constructor(){super("The blob service is currently not available. Please try again.")}},G=class extends y{constructor(e){super(`Too many requests please lower the number of concurrent requests ${e?` - try again in ${e} seconds`:""}.`),this.retryAfter=null!=e?e:0}},Y=class extends y{constructor(){super("The request was aborted.")}};async function K(e){var t,r,o;let n,a,i,s;try{let i=await e.json();n=null!=(r=null==(t=i.error)?void 0:t.code)?r:"unknown_error",a=null==(o=i.error)?void 0:o.message}catch{n="unknown_error"}switch((null==a?void 0:a.includes("contentType"))&&a.includes("is not allowed")&&(n="content_type_not_allowed"),(null==a?void 0:a.includes('"pathname"'))&&a.includes("does not match the token payload")&&(n="client_token_pathname_mismatch"),"Token expired"===a&&(n="client_token_expired"),(null==a?void 0:a.includes("the file length cannot be greater than"))&&(n="file_too_large"),n){case"store_suspended":i=new X;break;case"forbidden":i=new q;break;case"content_type_not_allowed":i=new $(a);break;case"client_token_pathname_mismatch":i=new M(a);break;case"client_token_expired":i=new V;break;case"file_too_large":i=new D(a);break;case"not_found":i=new F;break;case"store_not_found":i=new H;break;case"bad_request":i=new y(null!=a?a:"Bad request");break;case"service_unavailable":i=new W;break;case"rate_limited":i=new G((s=e.headers.get("retry-after"))?parseInt(s,10):void 0);break;default:i=new z}return{code:n,error:i}}async function J(e,t,r){let o=function(){let e=null;try{e=s.default.env.VERCEL_BLOB_API_VERSION_OVERRIDE||s.default.env.NEXT_PUBLIC_VERCEL_BLOB_API_VERSION_OVERRIDE}catch{}return`${null!=e?e:11}`}(),n=function(e){if(null==e?void 0:e.token)return e.token;if(s.default.env.BLOB_READ_WRITE_TOKEN)return s.default.env.BLOB_READ_WRITE_TOKEN;throw new y("No token found. Either configure the `BLOB_READ_WRITE_TOKEN` environment variable, or pass a `token` option to your calls.")}(r),a=function(){let e={};try{"VERCEL_BLOB_PROXY_THROUGH_ALTERNATIVE_API"in s.default.env&&void 0!==s.default.env.VERCEL_BLOB_PROXY_THROUGH_ALTERNATIVE_API?e["x-proxy-through-alternative-api"]=s.default.env.VERCEL_BLOB_PROXY_THROUGH_ALTERNATIVE_API:"NEXT_PUBLIC_VERCEL_BLOB_PROXY_THROUGH_ALTERNATIVE_API"in s.default.env&&void 0!==s.default.env.NEXT_PUBLIC_VERCEL_BLOB_PROXY_THROUGH_ALTERNATIVE_API&&(e["x-proxy-through-alternative-api"]=s.default.env.NEXT_PUBLIC_VERCEL_BLOB_PROXY_THROUGH_ALTERNATIVE_API)}catch{}return e}(),[,,,i=""]=n.split("_"),l=`${i}:${Date.now()}:${Math.random().toString(16).slice(2)}`,u=0,d=0,p=0,f=(null==r?void 0:r.onUploadProgress)||function(){try{return"1"===s.default.env.VERCEL_BLOB_USE_X_CONTENT_LENGTH}catch{return!1}}();t.body&&f&&(d=N(t.body)),(null==r?void 0:r.onUploadProgress)&&r.onUploadProgress({loaded:0,total:d,percentage:0});let m=await (0,c.default)(async i=>{let s;try{s=await B({input:T(e),init:{...t,headers:{"x-api-blob-request-id":l,"x-api-blob-request-attempt":String(u),"x-api-version":o,...f?{"x-content-length":String(d)}:{},authorization:`Bearer ${n}`,...a,...t.headers}},onUploadProgress:(null==r?void 0:r.onUploadProgress)?e=>{var t;let o=0!==d?d:e;p=e;let n=d>0?Number((e/o*100).toFixed(2)):0;100===n&&d>0||null==(t=r.onUploadProgress)||t.call(r,{loaded:e,total:o,percentage:n})}:void 0})}catch(e){if(e instanceof I&&"AbortError"===e.name)return void i(new Y);if(e&&"[object Error]"===j.call(e)&&"TypeError"===e.name&&"string"==typeof e.message&&("Load failed"===e.message?void 0===e.stack:O.has(e.message)))throw e;if(e instanceof TypeError)return void i(e);throw e}if(s.ok)return s;let{code:c,error:m}=await K(s);if("unknown_error"===c||"service_unavailable"===c||"internal_server_error"===c)throw m;i(m)},{retries:function(){try{let e=s.default.env.VERCEL_BLOB_RETRIES||"10";return parseInt(e,10)}catch{return 10}}(),onRetry:t=>{t instanceof Error&&L(`retrying API request to ${e}`,t.message),u+=1}});if(!m)throw new z;return(null==r?void 0:r.onUploadProgress)&&r.onUploadProgress({loaded:p,total:p,percentage:100}),await m.json()}function Q(e,t){let r={};return e.includes("contentType")&&t.contentType&&(r["x-content-type"]=t.contentType),e.includes("addRandomSuffix")&&void 0!==t.addRandomSuffix&&(r["x-add-random-suffix"]=t.addRandomSuffix?"1":"0"),e.includes("allowOverwrite")&&void 0!==t.allowOverwrite&&(r["x-allow-overwrite"]=t.allowOverwrite?"1":"0"),e.includes("cacheControlMaxAge")&&void 0!==t.cacheControlMaxAge&&(r["x-cache-control-max-age"]=t.cacheControlMaxAge.toString()),r}async function Z({pathname:e,options:t,extraChecks:r,getToken:o}){if(!e)throw new y("pathname is required");if(e.length>950)throw new y("pathname is too long, maximum length is 950");for(let t of _)if(e.includes(t))throw new y(`pathname cannot contain "${t}", please encode it if needed`);if(!t)throw new y("missing options, see usage");if("public"!==t.access)throw new y('access must be "public"');return r&&r(t),o&&(t.token=await o(e,t)),t}async function ee({uploadId:e,key:t,pathname:r,parts:o,headers:n,options:a}){let i=new URLSearchParams({pathname:r});try{let r=await J(`/mpu?${i.toString()}`,{method:"POST",headers:{...n,"content-type":"application/json","x-mpu-action":"complete","x-mpu-upload-id":e,"x-mpu-key":encodeURIComponent(t)},body:JSON.stringify(o),signal:a.abortSignal},a);return L("mpu: complete",r),r}catch(e){if(e instanceof TypeError&&("Failed to fetch"===e.message||"fetch failed"===e.message))throw new W;throw e}}async function et(e,t,r){L("mpu: create","pathname:",e);let o=new URLSearchParams({pathname:e});try{let e=await J(`/mpu?${o.toString()}`,{method:"POST",headers:{...t,"x-mpu-action":"create"},signal:r.abortSignal},r);return L("mpu: create",e),e}catch(e){if(e instanceof TypeError&&("Failed to fetch"===e.message||"fetch failed"===e.message))throw new W;throw e}}async function er({uploadId:e,key:t,pathname:r,headers:o,options:n,internalAbortController:a=new AbortController,part:i}){var s,l,u;let c=new URLSearchParams({pathname:r}),d=J(`/mpu?${c.toString()}`,{signal:a.signal,method:"POST",headers:{...o,"x-mpu-action":"upload","x-mpu-key":encodeURIComponent(t),"x-mpu-upload-id":e,"x-mpu-part-number":i.partNumber.toString()},body:i.blob},n);function p(){a.abort()}(null==(s=n.abortSignal)?void 0:s.aborted)?p():null==(l=n.abortSignal)||l.addEventListener("abort",p);let f=await d;return null==(u=n.abortSignal)||u.removeEventListener("abort",p),f}var eo="undefined"!=typeof window?6:8,en=8388608*eo*2;async function ea(e,t,r,o){L("mpu: init","pathname:",e,"headers:",r);let n={...o,onUploadProgress:void 0},a=await et(e,r,n),i=N(t),s=await m(t),l=await function({uploadId:e,key:t,pathname:r,stream:o,headers:n,options:a,totalToLoad:i}){L("mpu: upload init","key:",t);let s=new AbortController;return new Promise((l,u)=>{let c,d=[],f=[],m=o.getReader(),h=0,b=!1,x=1,y=!1,w=0,_=!1,v=0,T=[],E=0,N={};async function R(){for(L("mpu: upload read start","activeUploads:",h,"currentBytesInMemory:",`${g(w)}/${g(en)}`,"bytesSent:",g(v)),b=!0;w<en&&!y;)try{let{value:e,done:t}=await m.read();if(t){_=!0,L("mpu: upload read consumed the whole stream"),T.length>0&&(d.push({partNumber:x++,blob:new Blob(T,{type:"application/octet-stream"})}),O()),b=!1;return}w+=e.byteLength;let r=0;for(;r<e.byteLength;){let t=8388608-E,o=Math.min(r+t,e.byteLength),n=e.slice(r,o);T.push(n),E+=n.byteLength,r=o,8388608===E&&(d.push({partNumber:x++,blob:new Blob(T,{type:"application/octet-stream"})}),T=[],E=0,O())}}catch(e){k(e)}L("mpu: upload read end","activeUploads:",h,"currentBytesInMemory:",`${g(w)}/${g(en)}`,"bytesSent:",g(v)),b=!1}async function j(o){h++,L("mpu: upload send part start","partNumber:",o.partNumber,"size:",o.blob.size,"activeUploads:",h,"currentBytesInMemory:",`${g(w)}/${g(en)}`,"bytesSent:",g(v));try{let i=a.onUploadProgress?e=>{N[o.partNumber]=e.loaded,c&&c()}:void 0,u=await er({uploadId:e,key:t,pathname:r,headers:n,options:{...a,onUploadProgress:i},internalAbortController:s,part:o});if(L("mpu: upload send part end","partNumber:",o.partNumber,"activeUploads",h,"currentBytesInMemory:",`${g(w)}/${g(en)}`,"bytesSent:",g(v)),y)return;if(f.push({partNumber:o.partNumber,etag:u.etag}),w-=o.blob.size,h--,v+=o.blob.size,d.length>0&&O(),_){0===h&&(m.releaseLock(),l(f));return}b||R().catch(k)}catch(e){k(e)}}function O(){if(!y)for(L("send parts","activeUploads",h,"partsToUpload",d.length);h<eo&&d.length>0;){let e=d.shift();e&&j(e)}}function k(e){y||(y=!0,s.abort(),m.releaseLock(),e instanceof TypeError&&("Failed to fetch"===e.message||"fetch failed"===e.message)?u(new W):u(e))}a.onUploadProgress&&(c=(0,p.default)(()=>{var e;let t=Object.values(N).reduce((e,t)=>e+t,0),r=i||t,o=i>0?Number((100*(t/i||t)).toFixed(2)):0;null==(e=a.onUploadProgress)||e.call(a,{loaded:t,total:r,percentage:o})},150)),R().catch(k)})}({uploadId:a.uploadId,key:a.key,pathname:e,stream:s,headers:r,options:o,totalToLoad:i});return await ee({uploadId:a.uploadId,key:a.key,pathname:e,parts:l,headers:r,options:n})}var ei=function({allowedOptions:e,getToken:t,extraChecks:r}){return async function(o,n,a){if(!n)throw new y("body is required");if(w(n))throw new y("Body must be a string, buffer or stream. You sent a plain JavaScript object, double check what you're trying to upload.");let i=await Z({pathname:o,options:a,extraChecks:r,getToken:t}),s=Q(e,i);if(!0===i.multipart)return ea(o,n,s,i);let l=i.onUploadProgress?(0,p.default)(i.onUploadProgress,100):void 0,u=new URLSearchParams({pathname:o}),c=await J(`/?${u.toString()}`,{method:"PUT",body:n,headers:s,signal:i.abortSignal},{...i,onUploadProgress:l});return{url:c.url,downloadUrl:c.downloadUrl,pathname:c.pathname,contentType:c.contentType,contentDisposition:c.contentDisposition}}}({allowedOptions:["cacheControlMaxAge","addRandomSuffix","allowOverwrite","contentType"]});function es(){let[e,t]=(0,a.useState)([]),[r,o]=(0,a.useState)(!0),[s,l]=(0,a.useState)(!1),[u,c]=(0,a.useState)(!1),[d,p]=(0,a.useState)({name:"",description:"",wood_type:"",finish:"",color:"",price_per_sqft:""}),[f,m]=(0,a.useState)(null),[h,b]=(0,a.useState)(null),x=(0,i.createClient)();async function g(){try{let{data:e,error:r}=await x.from("wood_profiles").select("*").order("created_at",{ascending:!1});if(r)throw r;t(e||[])}catch(e){console.error("Error loading profiles:",e),alert("Failed to load wood profiles")}finally{o(!1)}}async function y(e){e.preventDefault(),c(!0);try{let e=null,t=null;f&&(e=(await ei(`wood-profiles/${Date.now()}-${f.name}`,f,{access:"public"})).url),h&&(t=(await ei(`wood-textures/${Date.now()}-${h.name}`,h,{access:"public"})).url);let{error:r}=await x.from("wood_profiles").insert({name:d.name,description:d.description,wood_type:d.wood_type,finish:d.finish,color:d.color,price_per_sqft:Number.parseFloat(d.price_per_sqft),image_url:e,texture_url:t});if(r)throw r;p({name:"",description:"",wood_type:"",finish:"",color:"",price_per_sqft:""}),m(null),b(null),l(!1),await g(),alert("Wood profile added successfully!")}catch(e){console.error("Error adding profile:",e),alert("Failed to add wood profile")}finally{c(!1)}}async function w(e){if(confirm("Are you sure you want to delete this profile?"))try{let{error:t}=await x.from("wood_profiles").delete().eq("id",e);if(t)throw t;await g(),alert("Profile deleted successfully")}catch(e){console.error("Error deleting profile:",e),alert("Failed to delete profile")}}return((0,a.useEffect)(()=>{g()},[]),r)?(0,n.jsx)("div",{className:"min-h-screen bg-neutral-950 text-neutral-50 flex items-center justify-center",children:(0,n.jsx)("p",{children:"Loading wood profiles..."})}):(0,n.jsx)("main",{className:"min-h-screen bg-neutral-950 text-neutral-50 p-6",children:(0,n.jsxs)("div",{className:"max-w-6xl mx-auto",children:[(0,n.jsxs)("div",{className:"flex items-center justify-between mb-8",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("h1",{className:"text-3xl font-bold mb-2",children:"Wood Profile Management"}),(0,n.jsx)("p",{className:"text-sm text-neutral-400",children:"Upload and manage wood profiles for the AR visualizer"})]}),(0,n.jsx)("button",{onClick:()=>l(!s),className:"px-4 py-2 bg-emerald-500 text-emerald-950 rounded-lg font-semibold hover:bg-emerald-400 transition",children:s?"Cancel":"+ Add New Profile"})]}),s&&(0,n.jsxs)("div",{className:"bg-neutral-900 border border-neutral-800 rounded-xl p-6 mb-8",children:[(0,n.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Add New Wood Profile"}),(0,n.jsxs)("form",{onSubmit:y,className:"space-y-4",children:[(0,n.jsxs)("div",{className:"grid md:grid-cols-2 gap-4",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-xs uppercase tracking-wide text-neutral-400 mb-2",children:"Profile Name *"}),(0,n.jsx)("input",{type:"text",required:!0,value:d.name,onChange:e=>p({...d,name:e.target.value}),placeholder:"e.g., Versailles â€¢ Walnut",className:"w-full rounded-lg border border-neutral-700 bg-neutral-950 px-3 py-2 text-sm text-neutral-100"})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-xs uppercase tracking-wide text-neutral-400 mb-2",children:"Wood Type *"}),(0,n.jsx)("input",{type:"text",required:!0,value:d.wood_type,onChange:e=>p({...d,wood_type:e.target.value}),placeholder:"e.g., American Walnut",className:"w-full rounded-lg border border-neutral-700 bg-neutral-950 px-3 py-2 text-sm text-neutral-100"})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-xs uppercase tracking-wide text-neutral-400 mb-2",children:"Finish *"}),(0,n.jsx)("input",{type:"text",required:!0,value:d.finish,onChange:e=>p({...d,finish:e.target.value}),placeholder:"e.g., Matte, Satin, Gloss",className:"w-full rounded-lg border border-neutral-700 bg-neutral-950 px-3 py-2 text-sm text-neutral-100"})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-xs uppercase tracking-wide text-neutral-400 mb-2",children:"Color *"}),(0,n.jsx)("input",{type:"text",required:!0,value:d.color,onChange:e=>p({...d,color:e.target.value}),placeholder:"e.g., Rich brown, Natural",className:"w-full rounded-lg border border-neutral-700 bg-neutral-950 px-3 py-2 text-sm text-neutral-100"})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-xs uppercase tracking-wide text-neutral-400 mb-2",children:"Price per sq ft *"}),(0,n.jsx)("input",{type:"number",step:"0.01",required:!0,value:d.price_per_sqft,onChange:e=>p({...d,price_per_sqft:e.target.value}),placeholder:"e.g., 35.00",className:"w-full rounded-lg border border-neutral-700 bg-neutral-950 px-3 py-2 text-sm text-neutral-100"})]})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-xs uppercase tracking-wide text-neutral-400 mb-2",children:"Description *"}),(0,n.jsx)("textarea",{required:!0,value:d.description,onChange:e=>p({...d,description:e.target.value}),placeholder:"Detailed description of this wood profile...",rows:3,className:"w-full rounded-lg border border-neutral-700 bg-neutral-950 px-3 py-2 text-sm text-neutral-100"})]}),(0,n.jsxs)("div",{className:"grid md:grid-cols-2 gap-4",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-xs uppercase tracking-wide text-neutral-400 mb-2",children:"Profile Image"}),(0,n.jsx)("input",{type:"file",accept:"image/*",onChange:e=>m(e.target.files?.[0]||null),className:"w-full rounded-lg border border-neutral-700 bg-neutral-950 px-3 py-2 text-sm text-neutral-100 file:mr-4 file:py-1 file:px-3 file:rounded file:border-0 file:text-xs file:bg-emerald-500 file:text-emerald-950 hover:file:bg-emerald-400"}),(0,n.jsx)("p",{className:"text-xs text-neutral-500 mt-1",children:"Display image for profile selection"})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-xs uppercase tracking-wide text-neutral-400 mb-2",children:"Texture Image (for AR)"}),(0,n.jsx)("input",{type:"file",accept:"image/*",onChange:e=>b(e.target.files?.[0]||null),className:"w-full rounded-lg border border-neutral-700 bg-neutral-950 px-3 py-2 text-sm text-neutral-100 file:mr-4 file:py-1 file:px-3 file:rounded file:border-0 file:text-xs file:bg-emerald-500 file:text-emerald-950 hover:file:bg-emerald-400"}),(0,n.jsx)("p",{className:"text-xs text-neutral-500 mt-1",children:"High-res texture for AR overlay"})]})]}),(0,n.jsx)("button",{type:"submit",disabled:u,className:"w-full py-3 bg-emerald-500 text-emerald-950 rounded-lg font-semibold hover:bg-emerald-400 transition disabled:opacity-50 disabled:cursor-not-allowed",children:u?"Uploading...":"Add Wood Profile"})]})]}),(0,n.jsx)("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-4",children:e.map(e=>(0,n.jsxs)("div",{className:"bg-neutral-900 border border-neutral-800 rounded-xl overflow-hidden",children:[e.image_url&&(0,n.jsx)("img",{src:e.image_url||"/placeholder.svg",alt:e.name,className:"w-full h-48 object-cover"}),(0,n.jsxs)("div",{className:"p-4",children:[(0,n.jsx)("h3",{className:"font-semibold text-lg mb-2",children:e.name}),(0,n.jsx)("p",{className:"text-xs text-neutral-400 mb-3",children:e.description}),(0,n.jsxs)("div",{className:"space-y-1 text-xs mb-4",children:[(0,n.jsxs)("p",{children:[(0,n.jsx)("span",{className:"text-neutral-500",children:"Wood:"})," ",e.wood_type]}),(0,n.jsxs)("p",{children:[(0,n.jsx)("span",{className:"text-neutral-500",children:"Finish:"})," ",e.finish]}),(0,n.jsxs)("p",{children:[(0,n.jsx)("span",{className:"text-neutral-500",children:"Color:"})," ",e.color]}),(0,n.jsxs)("p",{className:"text-emerald-400 font-semibold",children:["$",e.price_per_sqft,"/sq ft"]})]}),(0,n.jsx)("button",{onClick:()=>w(e.id),className:"w-full py-2 bg-red-500/10 border border-red-500/20 text-red-400 rounded-lg text-xs hover:bg-red-500/20 transition",children:"Delete Profile"})]})]},e.id))}),0===e.length&&(0,n.jsx)("div",{className:"text-center py-12 text-neutral-500",children:(0,n.jsx)("p",{children:"No wood profiles yet. Add your first one above!"})})]})})}!function({allowedOptions:e,getToken:t,extraChecks:r}){}({allowedOptions:["cacheControlMaxAge","addRandomSuffix","allowOverwrite","contentType"]}),function({allowedOptions:e,getToken:t,extraChecks:r}){}({allowedOptions:["cacheControlMaxAge","addRandomSuffix","allowOverwrite","contentType"]}),function({allowedOptions:e,getToken:t,extraChecks:r}){}({allowedOptions:["cacheControlMaxAge","addRandomSuffix","allowOverwrite","contentType"]}),function({allowedOptions:e,getToken:t,extraChecks:r}){}({allowedOptions:["cacheControlMaxAge","addRandomSuffix","allowOverwrite","contentType"]}),e.s(["default",()=>es],92177)}]);