module.exports=[18622,(a,b,c)=>{b.exports=a.x("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js",()=>require("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js"))},42602,(a,b,c)=>{"use strict";b.exports=a.r(18622)},87924,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].ReactJsxRuntime},72131,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].React},96665,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(45509);function e(){let a=(0,c.useRef)(null),[e,f]=(0,c.useState)(!1),[g,h]=(0,c.useState)(null),[i,j]=(0,c.useState)([]),[k,l]=(0,c.useState)(null),[m,n]=(0,c.useState)(!0),[o,p]=(0,c.useState)(""),[q,r]=(0,c.useState)(""),[s,t]=(0,c.useState)(""),[u,v]=(0,c.useState)(!1),w=(0,d.createClient)();(0,c.useEffect)(()=>{!async function(){try{let{data:a,error:b}=await w.from("wood_profiles").select("*").order("created_at",{ascending:!0});if(b)throw b;a&&a.length>0&&(j(a),l(a[0]))}catch(a){console.error("Error loading profiles:",a),h("Failed to load wood profiles")}finally{n(!1)}}()},[]);let x=async a=>{if(a.preventDefault(),!o&&!q)return void alert("Before you go, what is your name? We'd like to know your project idea ðŸ¤­");try{await fetch("/api/leads",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:o,email:q.includes("@")?q:null,phone:q.includes("@")?null:q,notes:s,projectType:"ar-camera-visualizer",selected_wood_id:k?.id??null,source:"ar-camera"})}),v(!0)}catch(a){console.error("Error sending lead:",a)}};return((0,c.useEffect)(()=>{let b=null;return async function(){try{h(null);let c=await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment"},audio:!1});b=c,a.current&&(a.current.srcObject=c,await a.current.play()),f(!0)}catch(a){console.error("Camera error",a),h("We couldn't access your camera. Check browser permissions or try on your phone."),f(!1)}}(),()=>{b&&b.getTracks().forEach(a=>a.stop())}},[]),m)?(0,b.jsx)("div",{className:"min-h-screen bg-neutral-950 text-neutral-50 flex items-center justify-center",children:(0,b.jsx)("p",{className:"text-sm text-neutral-400",children:"Loading wood profiles..."})}):0===i.length?(0,b.jsxs)("div",{className:"min-h-screen bg-neutral-950 text-neutral-50 flex items-center justify-center flex-col gap-4 px-4",children:[(0,b.jsx)("p",{className:"text-neutral-400",children:"No wood profiles available yet."}),(0,b.jsx)("a",{href:"/admin/wood-profiles",className:"px-4 py-2 bg-emerald-500 text-emerald-950 rounded-lg font-semibold hover:bg-emerald-400 transition",children:"Add Wood Profiles"})]}):(0,b.jsxs)("main",{className:"min-h-screen bg-neutral-950 text-neutral-50 flex flex-col md:flex-row",children:[(0,b.jsxs)("div",{className:"flex-1 flex flex-col border-b border-neutral-800 md:border-b-0 md:border-r md:min-h-screen",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between px-4 py-3 border-b border-neutral-800",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-sm font-semibold tracking-wide",children:"Leon's â€¢ Camera Floor Preview"}),(0,b.jsx)("p",{className:"text-[11px] text-neutral-400",children:"Point at your room and switch between floor profiles in real time."})]}),(0,b.jsx)("span",{className:"rounded-full border border-emerald-400/50 bg-emerald-500/10 px-3 py-1 text-[10px] text-emerald-200",children:"Beta Visualizer"})]}),(0,b.jsxs)("div",{className:"flex-1 flex items-center justify-center bg-black relative overflow-hidden",children:[(0,b.jsx)("video",{ref:a,playsInline:!0,muted:!0,className:"w-full h-full object-cover"}),!e&&!g&&(0,b.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,b.jsx)("p",{className:"text-xs text-neutral-400",children:"Initializing cameraâ€¦"})}),g&&(0,b.jsx)("div",{className:"absolute inset-0 flex items-center justify-center bg-black/70 px-4",children:(0,b.jsx)("p",{className:"text-xs text-red-300 text-center max-w-xs",children:g})}),(0,b.jsx)("div",{className:"pointer-events-none absolute inset-6 border border-white/10 rounded-2xl"}),k?.texture_url&&(0,b.jsx)("div",{className:"pointer-events-none absolute inset-0 opacity-30 mix-blend-overlay",children:(0,b.jsx)("img",{src:k.texture_url||"/placeholder.svg",alt:"",className:"w-full h-full object-cover"})})]}),(0,b.jsx)("div",{className:"px-4 py-3 border-t border-neutral-800 flex items-center justify-between gap-2",children:(0,b.jsx)("a",{href:"/",className:"text-[11px] text-neutral-400 hover:text-neutral-200",children:"â† Back to calculator"})})]}),(0,b.jsxs)("aside",{className:"w-full md:w-80 bg-neutral-900/90 border-t border-neutral-800 md:border-t-0 md:border-l flex flex-col max-h-[60vh] md:max-h-none",children:[(0,b.jsxs)("div",{className:"px-4 py-3 border-b border-neutral-800",children:[(0,b.jsx)("p",{className:"text-[11px] uppercase tracking-wide text-neutral-400",children:"Floor profiles"}),(0,b.jsx)("p",{className:"text-xs text-neutral-300",children:"Tap through wood options while you point the camera at your space."})]}),(0,b.jsx)("div",{className:"flex-1 overflow-y-auto px-3 py-2 space-y-2 text-xs",children:i.map(a=>(0,b.jsxs)("button",{type:"button",onClick:()=>l(a),className:`w-full text-left rounded-lg border px-3 py-2 transition ${k?.id===a.id?"border-emerald-400 bg-emerald-500/10 text-emerald-50":"border-neutral-700 bg-neutral-950 text-neutral-200 hover:border-neutral-500"}`,children:[(0,b.jsx)("div",{className:"font-medium",children:a.name}),(0,b.jsxs)("div",{className:"text-[10px] text-neutral-400",children:[a.wood_type," â€¢ ",a.finish]})]},a.id))}),k&&(0,b.jsxs)("div",{className:"border-t border-neutral-800 px-4 py-3 text-[11px] space-y-1",children:[(0,b.jsx)("p",{className:"text-neutral-400",children:"Selected profile"}),(0,b.jsx)("p",{className:"text-sm font-semibold text-neutral-50",children:k.name}),(0,b.jsxs)("p",{className:"text-neutral-300",children:[(0,b.jsx)("span",{className:"text-neutral-400",children:"Wood Type:"})," ",k.wood_type]}),(0,b.jsxs)("p",{className:"text-neutral-300",children:[(0,b.jsx)("span",{className:"text-neutral-400",children:"Finish:"})," ",k.finish]}),(0,b.jsxs)("p",{className:"text-neutral-300",children:[(0,b.jsx)("span",{className:"text-neutral-400",children:"Color:"})," ",k.color]}),(0,b.jsx)("p",{className:"text-neutral-300 mb-2",children:k.description}),(0,b.jsxs)("p",{className:"text-emerald-300 font-medium",children:["Est. $",k.price_per_sqft,"/sq ft installed"]}),(0,b.jsx)("p",{className:"text-[10px] text-neutral-500 pt-1",children:"For exact pricing, schedule a site visit. A formal written proposal will then be prepared for you to review."})]}),(0,b.jsx)("div",{className:"border-t border-neutral-800 px-4 py-3",children:u?(0,b.jsx)("div",{className:"text-center py-4",children:(0,b.jsx)("p",{className:"text-xs text-emerald-400 mb-2",children:"Thanks! We'll be in touch soon."})}):(0,b.jsxs)("form",{onSubmit:x,className:"space-y-2",children:[(0,b.jsx)("p",{className:"text-[11px] text-neutral-400 mb-2",children:"Love this profile? Let's connect:"}),(0,b.jsx)("input",{type:"text",placeholder:"Your name",value:o,onChange:a=>p(a.target.value),className:"w-full rounded-lg border border-neutral-700 bg-neutral-950 px-3 py-2 text-xs text-neutral-100"}),(0,b.jsx)("input",{type:"text",placeholder:"Email or phone",value:q,onChange:a=>r(a.target.value),className:"w-full rounded-lg border border-neutral-700 bg-neutral-950 px-3 py-2 text-xs text-neutral-100"}),(0,b.jsx)("textarea",{placeholder:"Any notes or questions?",value:s,onChange:a=>t(a.target.value),rows:2,className:"w-full rounded-lg border border-neutral-700 bg-neutral-950 px-3 py-2 text-xs text-neutral-100"}),(0,b.jsx)("button",{type:"submit",className:"w-full py-2 bg-emerald-500 text-emerald-950 rounded-lg text-xs font-semibold hover:bg-emerald-400 transition",children:"Schedule Site Visit"})]})})]})]})}a.s(["default",()=>e])}];

//# sourceMappingURL=%5Broot-of-the-server%5D__e069ddd0._.js.map